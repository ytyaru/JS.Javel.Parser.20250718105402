<!DOCTYPE html>
<html>
<head lang="ja">
  <meta charset="UTF-8">
  <title>ページ分割 getBoundingClientRect()</title>
  <link rel="stylesheet" href="style.css">
  <script src="../../../../docs/lib/js-yaml/4.1.0/min.js"></script>
  <script src="../../../../docs/lib/util/type.js"></script>
  <script src="../../../../docs/lib/util/string/normalize-line-breaks.js"></script>
  <script src="../../../../docs/lib/util/string/trim.js"></script>
  <script src="../../../../docs/lib/util/string/case.js"></script>
  <script src="../../../../docs/lib/util/dom/dom.tags.js"></script>
  <script src="../../../../docs/lib/util/css.js"></script>
  <script src="../../../../docs/lib/util/string/length.js"></script>
  <script src="../../../../docs/lib/util/promise/wait.js"></script>
  <script src="parser.js"></script>
  <script src="page-splitter.js"></script>
  <script src="page-viewer.js"></script>
  <script src="main.js"></script>
</head>
<body>
  <h1>ページ分割 getBoundingClientRect()</h1>
  <button name="view">閲覧する
  <button name="prev">前</button><span name="nowPageNum"></span>/<span name="allPageNum"></span><button name="next">次</button></button><span name="progressRate"></span>
  <select name="writingMode"><option value="vertical-rl">縦</option><option value="horizontal-tb">横</option></select>
  <select name="sizeType"><option value="now-fix">現在の画面サイズで固定</option><option value="static-fix">入力したサイズで固定</option><option value="reflow">表示する度に画面サイズに応じて推奨設定でページ分割計算する</option><option value="reflow">表示する度に入力条件に応じたページ分割計算をボタン押下で実行する</option></select>
  <input name="width" type="number" min="480" value="640">×<input name="height" min="320" value="480">
  <textarea name="manuscript" style="width:100%;">
---
title: 作品タイトル
catch: 作品キャッチコピー
obi: |-
    この作品の帯文。売り文句。200字以内。

    Javel形式で表記《ひょうき》できる。
    複数の段落にできる。段落内改行も可能。
author:
  name: 著者名
---

# 主題

## 副題

### キャッチコピー（メインコピー）

#### サブコピー

##### 囲み

###### サブコピー２

＠著者名
0版

# 一部

## 一章

### 一節

#### 一項

##### 一目

　本文。

　次のパラグラフ。
　パラグラフ内改行。

　漢字《かんじ》、《《傍点》》、〔割注〕

　｜ひらがな《非漢字》にもルビを入力できる。｜ABC《ほらね》。普通《フツウ》ルビ文字はカタカナで表記する。ルビ文字は小さいため画数が多いと潰れて見えなくなるから。ひらがなでも十分読めるなら違和感も少なく良いだろう。

# 二部

## 一章

　本文です。

# Javel

　Javelはマークダウン風テキストからHTMLを生成するアプリです。

　小説に特化した簡易構文なので簡単に書けます。

　できれば画面サイズに応じたページ分割機能を実装したい所。

　１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０

　１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０

　１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０

　１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０

　１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０

　あああああああああああいいいいいいいいいい
　あああああああああああいいいいいいいいいい

　うううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううう

　ええええええええ

　おおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおおお

　かあああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ

　きいいいいいいいいいいいいい

　この辺りの文章で長さを調整する予定ですが、如何でしょうか？　足りますか？　単語区切りにしたいですが、どうですか？

　くうううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううううう

　けええええええええええええええええ

　もし一ブロックあたりのサイズが一画面サイズを超過していたら？　巻物やスライドはページ分割しないが、小説はページ分割する。

　１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０

　終わり。
  </textarea>
  <div name="book"></div>
</body>
</html>
