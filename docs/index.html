<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title></title>
<meta name="description" content="">
<meta name="author" content="ytyaru">
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.ja">
<link rel="icon" href="asset/image/author/ytyaru.png">
<link rel="stylesheet" href="css/sanitize/v13.0.0/sanitize.css">
<link rel="stylesheet" href="css/sanitize/v13.0.0/typography.css">
<link rel="stylesheet" href="css/sanitize/v13.0.0/forms.css">
<link rel="stylesheet" href="css/style.css">
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
</style>
<script type="text/javascript" src="lib/van/1.5.3/nomodule/min.js"></script>
<script src="js/footer.js"></script>
<script>
const {h1,p,br,ol,li,footer,small,time,a,img} = van.tags
window.addEventListener('DOMContentLoaded', async(event) => {
    // 最新版ほどitemsの先頭に配置する。旧版ほど末尾。
    const items = [
        'バグ発見（ページ分割処理が何度も走ってしまう。そもそも一度に一回のみ実行するようページ設定してから分割処理するようにしたい）',
        'PageConfig仮実装（画面サイズ等ページ分割処理に関する変数をまとめたクラス）',
        '遅延ロード仮実装（await wait(2000)でフリーズ防止。但しサイズ計算中にフォントサイズ等が変更されると計算が狂うので注意）',
        'バグ修正（選択範囲の末尾がパラグラフ末尾から次のパラグラフの前までの間でエラーになる）、リファクタリング（picker.js:#isInlineElDataAttr(node)）',
        'バグ修正（テキストブロック部分取得（rubyの親文字とTextNodeを跨いでも正常に取得できる（rubyやemは要素全体取得））。異なるテキストブロックを跨いでも取得できる）',
        'バグ修正（テキストブロック部分取得（範囲選択時右から左にドラッグして選択するとエラーになっていたのを修正した））',
        'テキストブロック部分取得（ブロック間を跨いでも取得可能）',
        'リファクタリング（テキストブロック部分取得（テキスト範囲選択箇所））',
        '仮実装（テキストブロック部分取得（テキスト範囲選択箇所））',
        'リファクタリング（分割）２',
        'リファクタリング（分割）',
        '本のページ分割を単語単位にした',
        'コンテンツタイプ選択（巻物／スライド／本）',
        'ページ遷移（テキストブロック単位）',
        'ページ分割（テキストブロック単位）',
        '最初',
    ]
    const { h1, p, ol, li, a, code } = van.tags
    const author = 'ytyaru'
    const ccBySaUrls = ['cc','cc-by','cc-sa'].map(id=>`asset/image/license/${id}.svg`)
    van.add(document.body, 
        h1(a({href:`https://github.com/${author}/JS.Javel.Parser.20250718105402/`}, 'Javel.Parser')),
        p('日本語小説用テキスト形式からHTMLを生成する。'),
//        p('Generate HTML from text format for Japanese novels.'),
        makeMenu(),
        new Footer().make(),
    )
    function makeMenu() { return ol({start:items.length-1, reversed:true},
        //ol({start:0},
            //items.map((item, i)=>li(a({href:()=>`${i}/index.html`}, item)))
            items.map((item, i)=>li(a({href:()=>`${items.length-(i+1)}/index.html`}, item)))
            //items.reverse().map((item, i)=>li(a({href:()=>`${i}/index.html`}, item)))
            //items.reverse().map((item, i)=>li(a({href:()=>`${items.length-(i+1)}/index.html`}, item)))
        )
    }
})
</script>
</head>
<body>
</body>
